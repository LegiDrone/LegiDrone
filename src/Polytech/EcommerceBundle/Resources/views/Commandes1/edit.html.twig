{% extends "PolytechProjetCoBundle::layoutAdmin.html.twig" %}

{% block title %}
  Commandes - {{ parent() }}
{% endblock %}

{% block body %}

{% for flashMessage in app.session.flashbag.get('success') %}
    <div class="alert alert-success">
        {{ flashMessage }}
    </div>
{% endfor %}
{% for flashMessage in app.session.flashbag.get('error') %}
    <div class="alert alert-errors">
        {{ flashMessage }}
    </div>
{% endfor %}

<h1>Commandes edit</h1>

<div class="box">
    <div class="box-body">
        <form action="{{ path('admin_commandes_update', { 'id' : entity.id }) }}" method="POST" {{ form_enctype(edit_form) }}>
            {{ form_errors(edit_form) }}
            <table class="table table-responsive">
                <tbody>
                    <tr>
                        <th>Référence</th>
                        <td>{{ entity.reference }}</td>
                    </tr>
                    <tr>
                        <th>{{ form_label(edit_form.valider, "Validé", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}</th>
                        <td>{{ form_errors(edit_form.valider) }}{{ form_widget(edit_form.valider, {'attr': {'class': 'checkbox'}}) }}</td>
                    </tr>


                    <tr>
                        <th>{{ form_label(edit_form.status, "Status", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}</th>
                        <td>{{ form_errors(edit_form.status) }}{{ form_widget(edit_form.status, {'attr': {'class': 'form-control'}}) }}</td>
                    </tr>
                    <tr>   
                        <th>{{ form_label(edit_form.date, "date", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}</th>
                        <td>
                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-clock-o"></i>
                                      </div>
                                    {{ form_errors(edit_form.date) }}{{ form_widget(edit_form.date, {'attr': {'class': 'form-control pull-right', 'id': 'reservationtime'}}) }}
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            
                        </th>
                        
                        <a href="{{ path('polytech_user_facturesPDF', { 'id' : entity.id }) }}" target="_blank"><i class="glyphicon glyphicon-repeat"></i></a></tr>
                    
                </tbody>
            </table>
            <div class="pull-right">
                {{ form_widget(edit_form.submit, {'attr': {'class': 'btn btn-primary'}, 'label': 'Mettre à jour'}) }}
            </div>
        </form>
    </div>
</div>
        <ul class="record_actions">
    <li>
        <a href="{{ path('admin_commandes') }}">
            Back to the list
        </a>
    </li>
    <li>{{ form(delete_form) }}</li>
</ul>
{% endblock %}
